import {ActionIcon, Icon} from '@lobehub/ui';
import { Compass, MessageSquare } from 'lucide-react';
import Link from 'next/link';
import { memo } from 'react';
import { useTranslation } from 'react-i18next';

import { useGlobalStore } from '@/store/global';
import { SidebarTabKey } from '@/store/global/initialState';
import { useSessionStore } from '@/store/session';
import {Flexbox} from "react-layout-kit";
import {useStyles} from "@/layout/DefaultLayout/Desktop/SideBar/styles";

export interface TopActionProps {
  tab?: SidebarTabKey;
}

const TopActions = memo<TopActionProps>(({ tab }) => {
  const { t } = useTranslation('common');
  const switchBackToChat = useGlobalStore((s) => s.switchBackToChat);
  const { styles, cx } = useStyles();

  return (
    <>
      <Link
        aria-label={t('tab.chat')}
        href={'/chat'}
        onClick={(e) => {
          e.preventDefault();
          switchBackToChat(useSessionStore.getState().activeId);
        }}
        className={styles.item}
      >
        <Flexbox
          align={'center'}
          gap={0}
          horizontal
          justify={'space-between'}
        >
          {/*<Icon icon={MessageSquare} size="40" ></Icon>*/}
          <svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
            <mask id="path-1-inside-1_114_3957" fill="white">
              <path fill-rule="evenodd" clip-rule="evenodd" d="M33.8108 25.7852C33.8829 25.3676 33.9205 24.9382 33.9205 24.5C33.9205 20.3579 30.5626 17 26.4205 17C22.2783 17 18.9205 20.3579 18.9205 24.5C18.9205 28.6421 22.2783 32 26.4205 32C28.4877 32 30.3596 31.1636 31.7163 29.8108L34.3122 29.9017C35.0815 29.9287 35.5915 29.1127 35.2302 28.433L33.8896 25.911C33.8658 25.8663 33.8394 25.8243 33.8108 25.7852Z"/>
            </mask>
            <path fill-rule="evenodd" clip-rule="evenodd" d="M33.8108 25.7852C33.8829 25.3676 33.9205 24.9382 33.9205 24.5C33.9205 20.3579 30.5626 17 26.4205 17C22.2783 17 18.9205 20.3579 18.9205 24.5C18.9205 28.6421 22.2783 32 26.4205 32C28.4877 32 30.3596 31.1636 31.7163 29.8108L34.3122 29.9017C35.0815 29.9287 35.5915 29.1127 35.2302 28.433L33.8896 25.911C33.8658 25.8663 33.8394 25.8243 33.8108 25.7852Z" fill="white"/>
            <path d="M33.8108 25.7852L31.84 25.4449L31.6955 26.2816L32.1971 26.9668L33.8108 25.7852ZM31.7163 29.8108L31.7863 27.812L30.9187 27.7816L30.304 28.3946L31.7163 29.8108ZM34.3122 29.9017L34.2421 31.9005H34.2421L34.3122 29.9017ZM35.2302 28.433L33.4642 29.3717V29.3717L35.2302 28.433ZM33.8896 25.911L35.6556 24.9722L33.8896 25.911ZM31.9205 24.5C31.9205 24.8236 31.8927 25.1392 31.84 25.4449L35.7816 26.1255C35.8731 25.596 35.9205 25.0527 35.9205 24.5H31.9205ZM26.4205 19C29.458 19 31.9205 21.4624 31.9205 24.5H35.9205C35.9205 19.2533 31.6672 15 26.4205 15V19ZM20.9205 24.5C20.9205 21.4624 23.3829 19 26.4205 19V15C21.1738 15 16.9205 19.2533 16.9205 24.5H20.9205ZM26.4205 30C23.3829 30 20.9205 27.5376 20.9205 24.5H16.9205C16.9205 29.7467 21.1738 34 26.4205 34V30ZM30.304 28.3946C29.307 29.3888 27.937 30 26.4205 30V34C29.0384 34 31.4123 32.9384 33.1285 31.227L30.304 28.3946ZM31.6462 31.8096L34.2421 31.9005L34.3822 27.903L31.7863 27.812L31.6462 31.8096ZM34.2421 31.9005C36.5501 31.9814 38.0802 29.5335 36.9962 27.4942L33.4642 29.3717C33.1029 28.692 33.6129 27.876 34.3822 27.903L34.2421 31.9005ZM36.9962 27.4942L35.6556 24.9722L32.1236 26.8497L33.4642 29.3717L36.9962 27.4942ZM35.6556 24.9722C35.5871 24.8435 35.5099 24.7203 35.4244 24.6036L32.1971 26.9668C32.1689 26.9283 32.1445 26.889 32.1236 26.8497L35.6556 24.9722Z" fill="#0066FF" mask="url(#path-1-inside-1_114_3957)"/>
            <mask id="path-3-inside-2_114_3957" fill="white">
              <path fill-rule="evenodd" clip-rule="evenodd" d="M17.9205 32C24.5479 32 29.9205 26.6274 29.9205 20C29.9205 13.3726 24.5479 8 17.9205 8C11.2931 8 5.92047 13.3726 5.92047 20C5.92047 21.4613 6.18169 22.8617 6.65997 24.1569L5.11853 27.0567C4.75721 27.7364 5.26721 28.5524 6.03654 28.5254L9.3596 28.409C11.5369 30.6254 14.5681 32 17.9205 32Z"/>
            </mask>
            <path fill-rule="evenodd" clip-rule="evenodd" d="M17.9205 32C24.5479 32 29.9205 26.6274 29.9205 20C29.9205 13.3726 24.5479 8 17.9205 8C11.2931 8 5.92047 13.3726 5.92047 20C5.92047 21.4613 6.18169 22.8617 6.65997 24.1569L5.11853 27.0567C4.75721 27.7364 5.26721 28.5524 6.03654 28.5254L9.3596 28.409C11.5369 30.6254 14.5681 32 17.9205 32Z" fill="white"/>
            <path d="M6.65997 24.1569L8.42597 25.0956L8.8465 24.3045L8.53613 23.464L6.65997 24.1569ZM5.11853 27.0567L3.35253 26.1179H3.35253L5.11853 27.0567ZM6.03654 28.5254L6.10657 30.5242H6.10657L6.03654 28.5254ZM9.3596 28.409L10.7863 27.0074L10.1694 26.3794L9.28958 26.4102L9.3596 28.409ZM27.9205 20C27.9205 25.5228 23.4433 30 17.9205 30V34C25.6525 34 31.9205 27.732 31.9205 20H27.9205ZM17.9205 10C23.4433 10 27.9205 14.4772 27.9205 20H31.9205C31.9205 12.268 25.6525 6 17.9205 6V10ZM7.92047 20C7.92047 14.4772 12.3976 10 17.9205 10V6C10.1885 6 3.92047 12.268 3.92047 20H7.92047ZM8.53613 23.464C8.13854 22.3874 7.92047 21.2214 7.92047 20H3.92047C3.92047 21.7013 4.22483 23.336 4.78381 24.8497L8.53613 23.464ZM6.88453 27.9954L8.42597 25.0956L4.89397 23.2181L3.35253 26.1179L6.88453 27.9954ZM5.96652 26.5267C6.73585 26.4997 7.24585 27.3157 6.88453 27.9954L3.35253 26.1179C2.26857 28.1571 3.79858 30.6051 6.10657 30.5242L5.96652 26.5267ZM9.28958 26.4102L5.96652 26.5267L6.10657 30.5242L9.42963 30.4078L9.28958 26.4102ZM17.9205 30C15.1264 30 12.603 28.8567 10.7863 27.0074L7.93287 29.8106C10.4707 32.394 14.0099 34 17.9205 34V30Z" fill="#0066FF" mask="url(#path-3-inside-2_114_3957)"/>
            <path fill-rule="evenodd" clip-rule="evenodd" d="M18 30C23.5228 30 28 25.5228 28 20C28 18.2672 27.5592 16.6372 26.7837 15.2163C25.3628 14.4408 23.7329 14 22 14C16.4772 14 12 18.4772 12 24C12 25.7329 12.4408 27.3628 13.2163 28.7837C14.6372 29.5592 16.2672 30 18 30Z" fill="#92FFFF"/>
            <rect x="14.9205" y="17" width="3" height="5" rx="1.5" fill="#0066FF"/>
            <rect x="20.9205" y="17" width="3" height="5" rx="1.5" fill="#0066FF"/>
          </svg>
          <span className={styles.itemText}>AI聊天助手</span>
        </Flexbox>
      </Link>
      {/*<Link aria-label={t('tab.market')} href={'/market'}>*/}
      {/*  <ActionIcon*/}
      {/*    active={tab === SidebarTabKey.Market}*/}
      {/*    icon={Compass}*/}
      {/*    placement={'right'}*/}
      {/*    size="large"*/}
      {/*    title={t('tab.market')}*/}
      {/*  />*/}
      {/*</Link>*/}
    </>
  );
});

export default TopActions;
